"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[428],{428:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(2791),a=t(7689),s=t(5048),o=t(1728),c=t(9712),i=t(824),u=t(3329);var l=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.filter}));return(0,u.jsxs)(c.Kq,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,u.jsx)("p",{children:" Find contacts by name"}),(0,u.jsx)(i.II,{onChange:function(n){e((0,o.T)(n.currentTarget.value.toLowerCase()))},value:n,type:"text",name:"filter"})]})},d=t(1413),m=t(4366),h=t(9439),p=t(9085),x=t(5777);var f=function(e){var n=e.name,t=e.number,a=e.id,s=(0,m.zr)(),o=(0,h.Z)(s,2),i=o[0],l=o[1],d=l.isLoading,f=l.isSuccess,b=l.error;return(0,r.useEffect)((function(){f&&p.Am.info(" ".concat(n," was removed from the phone book")),b&&p.Am.error("oops something went wrong")}),[f,n,b]),(0,u.jsx)(c.xu,{mb:"5",children:(0,u.jsxs)(c.kC,{alignItems:"center",justifyContent:"space-between",w:"400px",mb:"5",children:[n,": ",t,(0,u.jsx)(x.zx,{type:"button",onClick:function(){return i(a)},disabled:d,children:d?"Delete...":"Delete"})]})},a)},b=t(9194);var j=function(){var e=(0,m.pG)(),n=e.data,t=e.isFetching,r=(0,s.v9)((function(e){return e.filter})),a=n&&n.filter((function(e){return e.name.toLowerCase().includes(r)}));return(0,u.jsxs)(u.Fragment,{children:[n&&0!==n.length&&(0,u.jsx)("ul",{children:0!==a.length?a.map((function(e){return(0,u.jsx)(f,(0,d.Z)({},e),e.id)})):(0,u.jsxs)("p",{children:["no search contacts: ",r]})}),n&&0===n.length&&(0,u.jsx)("p",{children:"'You have no contacts'"}),t&&(0,u.jsx)(b.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})]})};var v=function(){var e=(0,m.F3)(),n=(0,h.Z)(e,2),t=n[0],a=n[1],s=a.isLoading,o=a.isSuccess,l=a.error,d=(0,m.pG)().data,f=(0,r.useState)(""),b=(0,h.Z)(f,2),j=b[0],v=b[1],g=(0,r.useState)(""),w=(0,h.Z)(g,2),C=w[0],y=w[1],k=(0,r.useState)(""),A=(0,h.Z)(k,2),Z=A[0],z=A[1];(0,r.useEffect)((function(){o&&p.Am.success(" ".concat(Z," added to contact book"),{autoClose:800}),l&&p.Am.error("oops something went wrong")}),[l,o,Z]);var I=function(e){var n=e.currentTarget,t=n.name,r=n.value;switch(t){case"name":v(r);break;case"number":y(r);break;default:return}};return(0,u.jsx)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),z(j),d.every((function(e){return e.name.toLowerCase()!==j.toLowerCase()}))?t({name:j,number:C}):p.Am.error("".concat(j," is alredy in contacts!!!")),v(""),y("")},children:(0,u.jsxs)(c.Kq,{w:"400px",mx:"auto",my:"6",spacing:4,children:[(0,u.jsx)("p",{children:"Name"}),(0,u.jsx)(i.II,{onChange:I,value:j,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Dou"}),(0,u.jsx)("p",{children:"Number"}),(0,u.jsx)(i.II,{onChange:I,value:C,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"000-111-22-33"}),(0,u.jsx)(x.zx,{colorScheme:"gray",type:"submit",disabled:!C||!j,children:s?"Add Contact...Spiner":"Add Contact"})]})})},g=t(3656);var w=function(){var e=(0,s.v9)(g.Vp);return(0,u.jsxs)(c.xu,{w:"400px",mx:"auto",my:"6",children:[!e&&(0,u.jsx)(a.Fg,{to:"/",replace:!0}),(0,u.jsx)(c.X6,{mb:5,children:"Phonebook"}),(0,u.jsx)(v,{}),(0,u.jsx)(c.X6,{mb:5,children:"Contacts"}),(0,u.jsx)(l,{}),(0,u.jsx)(j,{})]})}}}]);
//# sourceMappingURL=428.179ea59c.chunk.js.map